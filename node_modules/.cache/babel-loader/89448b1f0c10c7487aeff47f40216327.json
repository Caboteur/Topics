{"ast":null,"code":"'use strict';\n\nvar _objectSpread = require(\"D:\\\\MegaSync\\\\proxy-server\\\\testing\\\\react-express-starter\\\\node_modules\\\\@babel\\\\runtime/helpers/objectSpread2\");\n\nvar _require = require('stream'),\n    PassThroughStream = _require.PassThrough;\n\nmodule.exports = function (options) {\n  options = _objectSpread({}, options);\n  var _options = options,\n      array = _options.array;\n  var _options2 = options,\n      encoding = _options2.encoding;\n  var isBuffer = encoding === 'buffer';\n  var objectMode = false;\n\n  if (array) {\n    objectMode = !(encoding || isBuffer);\n  } else {\n    encoding = encoding || 'utf8';\n  }\n\n  if (isBuffer) {\n    encoding = null;\n  }\n\n  var stream = new PassThroughStream({\n    objectMode: objectMode\n  });\n\n  if (encoding) {\n    stream.setEncoding(encoding);\n  }\n\n  var length = 0;\n  var chunks = [];\n  stream.on('data', function (chunk) {\n    chunks.push(chunk);\n\n    if (objectMode) {\n      length = chunks.length;\n    } else {\n      length += chunk.length;\n    }\n  });\n\n  stream.getBufferedValue = function () {\n    if (array) {\n      return chunks;\n    }\n\n    return isBuffer ? Buffer.concat(chunks, length) : chunks.join('');\n  };\n\n  stream.getBufferedLength = function () {\n    return length;\n  };\n\n  return stream;\n};","map":{"version":3,"sources":["D:/MegaSync/proxy-server/testing/react-express-starter/node_modules/cacheable-request/node_modules/get-stream/buffer-stream.js"],"names":["require","PassThroughStream","PassThrough","module","exports","options","array","encoding","isBuffer","objectMode","stream","setEncoding","length","chunks","on","chunk","push","getBufferedValue","Buffer","concat","join","getBufferedLength"],"mappings":"AAAA;;;;eACyCA,OAAO,CAAC,QAAD,C;IAA5BC,iB,YAAbC,W;;AAEPC,MAAM,CAACC,OAAP,GAAiB,UAAAC,OAAO,EAAI;AAC3BA,EAAAA,OAAO,qBAAOA,OAAP,CAAP;AAD2B,iBAGXA,OAHW;AAAA,MAGpBC,KAHoB,YAGpBA,KAHoB;AAAA,kBAIVD,OAJU;AAAA,MAItBE,QAJsB,aAItBA,QAJsB;AAK3B,MAAMC,QAAQ,GAAGD,QAAQ,KAAK,QAA9B;AACA,MAAIE,UAAU,GAAG,KAAjB;;AAEA,MAAIH,KAAJ,EAAW;AACVG,IAAAA,UAAU,GAAG,EAAEF,QAAQ,IAAIC,QAAd,CAAb;AACA,GAFD,MAEO;AACND,IAAAA,QAAQ,GAAGA,QAAQ,IAAI,MAAvB;AACA;;AAED,MAAIC,QAAJ,EAAc;AACbD,IAAAA,QAAQ,GAAG,IAAX;AACA;;AAED,MAAMG,MAAM,GAAG,IAAIT,iBAAJ,CAAsB;AAACQ,IAAAA,UAAU,EAAVA;AAAD,GAAtB,CAAf;;AAEA,MAAIF,QAAJ,EAAc;AACbG,IAAAA,MAAM,CAACC,WAAP,CAAmBJ,QAAnB;AACA;;AAED,MAAIK,MAAM,GAAG,CAAb;AACA,MAAMC,MAAM,GAAG,EAAf;AAEAH,EAAAA,MAAM,CAACI,EAAP,CAAU,MAAV,EAAkB,UAAAC,KAAK,EAAI;AAC1BF,IAAAA,MAAM,CAACG,IAAP,CAAYD,KAAZ;;AAEA,QAAIN,UAAJ,EAAgB;AACfG,MAAAA,MAAM,GAAGC,MAAM,CAACD,MAAhB;AACA,KAFD,MAEO;AACNA,MAAAA,MAAM,IAAIG,KAAK,CAACH,MAAhB;AACA;AACD,GARD;;AAUAF,EAAAA,MAAM,CAACO,gBAAP,GAA0B,YAAM;AAC/B,QAAIX,KAAJ,EAAW;AACV,aAAOO,MAAP;AACA;;AAED,WAAOL,QAAQ,GAAGU,MAAM,CAACC,MAAP,CAAcN,MAAd,EAAsBD,MAAtB,CAAH,GAAmCC,MAAM,CAACO,IAAP,CAAY,EAAZ,CAAlD;AACA,GAND;;AAQAV,EAAAA,MAAM,CAACW,iBAAP,GAA2B;AAAA,WAAMT,MAAN;AAAA,GAA3B;;AAEA,SAAOF,MAAP;AACA,CAhDD","sourcesContent":["'use strict';\nconst {PassThrough: PassThroughStream} = require('stream');\n\nmodule.exports = options => {\n\toptions = {...options};\n\n\tconst {array} = options;\n\tlet {encoding} = options;\n\tconst isBuffer = encoding === 'buffer';\n\tlet objectMode = false;\n\n\tif (array) {\n\t\tobjectMode = !(encoding || isBuffer);\n\t} else {\n\t\tencoding = encoding || 'utf8';\n\t}\n\n\tif (isBuffer) {\n\t\tencoding = null;\n\t}\n\n\tconst stream = new PassThroughStream({objectMode});\n\n\tif (encoding) {\n\t\tstream.setEncoding(encoding);\n\t}\n\n\tlet length = 0;\n\tconst chunks = [];\n\n\tstream.on('data', chunk => {\n\t\tchunks.push(chunk);\n\n\t\tif (objectMode) {\n\t\t\tlength = chunks.length;\n\t\t} else {\n\t\t\tlength += chunk.length;\n\t\t}\n\t});\n\n\tstream.getBufferedValue = () => {\n\t\tif (array) {\n\t\t\treturn chunks;\n\t\t}\n\n\t\treturn isBuffer ? Buffer.concat(chunks, length) : chunks.join('');\n\t};\n\n\tstream.getBufferedLength = () => length;\n\n\treturn stream;\n};\n"]},"metadata":{},"sourceType":"script"}