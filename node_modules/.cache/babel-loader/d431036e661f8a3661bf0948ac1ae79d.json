{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\MegaSync\\\\proxy-server\\\\testing\\\\react-express-starter\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\MegaSync\\\\proxy-server\\\\testing\\\\react-express-starter\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:\\\\MegaSync\\\\proxy-server\\\\testing\\\\react-express-starter\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\MegaSync\\\\proxy-server\\\\testing\\\\react-express-starter\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\MegaSync\\\\proxy-server\\\\testing\\\\react-express-starter\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\MegaSync\\\\proxy-server\\\\testing\\\\react-express-starter\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\MegaSync\\\\proxy-server\\\\testing\\\\react-express-starter\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import ButtonTrend from'./ButtonTrend.js';import styles from'./Container.module.css';import axios from'axios';import Datas from'./Api/Api-request.js';import Viewer from'./Viewer.js';import wiki from'wikijs';var Container=/*#__PURE__*/function(_Component){_inherits(Container,_Component);function Container(props){var _this;_classCallCheck(this,Container);_this=_possibleConstructorReturn(this,_getPrototypeOf(Container).call(this,props));_this.state={reponse:[],reponseFR:[],reponseUS:[],reponseDE:[],wiki:\"Sam\",value:\"FR\",display:\"none\",googleSearch:\"Sam\",twitterSearch:\"Sam,\",country:[\"FR\",\"US\",\"DE\",\"GB\",\"IT\",\"BE\",\"IN\"]};return _this;}_createClass(Container,[{key:\"componentDidMount\",value:function componentDidMount(){this.News();}},{key:\"News\",value:function(){var _News=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,body;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/news-trend-'+this.state.value);case 2:response=_context.sent;_context.next=5;return response.json();case 5:body=_context.sent;console.log(body);this.setState({reponse:body});case 8:case\"end\":return _context.stop();}}},_callee,this);}));function News(){return _News.apply(this,arguments);}return News;}()},{key:\"handleChange\",value:function handleChange(event){var _this2=this;this.setState({value:event.target.value},function(){_this2.News();});}},{key:\"handleClick\",value:function handleClick(e){if(this.state.display==\"none\"){this.setState({display:\"inherit\"});}else{this.setState({display:\"none\"});}var elem=e.target.innerHTML;var id=e.target.id;this.wikipedia(elem);this.googleSearch(elem);this.twitterSearch(elem);var element=document.getElementById(id);element.className=styles.articleContainerFull;//  elemtn.classList.remove(\"styles.articleContainerFull\")\n}},{key:\"wikipedia\",value:function wikipedia(data){var _this3=this;wiki({apiUrl:'https://fr.wikipedia.org/w/api.php'}).find(data).then(function(page){return _this3.setState({wiki:page.raw.fullurl});});}},{key:\"googleSearch\",value:function googleSearch(data){var search='https://www.google.com/search?q='+data;this.setState({googleSearch:search});}},{key:\"twitterSearch\",value:function twitterSearch(data){var search='https://twitter.com/search?q='+data+'&src=typed_query';this.setState({twitterSearch:search});}},{key:\"render\",value:function render(props){var _this4=this;return React.createElement(\"div\",{className:styles.Container},React.createElement(\"div\",{className:styles.selectContainer},React.createElement(\"select\",{className:styles.selector,onChange:this.handleChange.bind(this),value:this.state.value},this.state.country.map(function(country){return React.createElement(\"option\",{className:styles.options,value:country},country);}))),React.createElement(\"div\",{className:styles.dataConatainer},this.state.reponse.map(function(trend,index){return React.createElement(\"div\",{id:index,className:styles.articleContainer},React.createElement(ButtonTrend,{id:index,click:_this4.handleClick.bind(_this4),key:index,title:trend.topic.title.query}),React.createElement(Viewer,{wiki:_this4.state.wiki,googleSearch:_this4.state.googleSearch,twitterSearch:_this4.state.twitterSearch,display:_this4.state.display,source:trend.topic.articles[0].source,title:trend.topic.articles[0].title,url:trend.topic.articles[0].url}));}),React.createElement(\"div\",{className:styles.outro})));}}]);return Container;}(Component);export default Container;","map":{"version":3,"sources":["D:/MegaSync/proxy-server/testing/react-express-starter/src/components/Container.js"],"names":["React","Component","ButtonTrend","styles","axios","Datas","Viewer","wiki","Container","props","state","reponse","reponseFR","reponseUS","reponseDE","value","display","googleSearch","twitterSearch","country","News","fetch","response","json","body","console","log","setState","event","target","e","elem","innerHTML","id","wikipedia","element","document","getElementById","className","articleContainerFull","data","apiUrl","find","then","page","raw","fullurl","search","selectContainer","selector","handleChange","bind","map","options","dataConatainer","trend","index","articleContainer","handleClick","topic","title","query","articles","source","url","outro"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport ButtonTrend from './ButtonTrend.js'\r\nimport styles from './Container.module.css';\r\nimport axios from 'axios';\r\nimport Datas from './Api/Api-request.js'\r\nimport Viewer from './Viewer.js'\r\nimport wiki from 'wikijs'\r\n\r\nclass Container extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      reponse:[],\r\n      reponseFR:[],\r\n      reponseUS:[],\r\n      reponseDE:[],\r\n      wiki:\"Sam\",\r\n      value:\"FR\",\r\n      display:\"none\",\r\n      googleSearch:\"Sam\",\r\n      twitterSearch:\"Sam,\",\r\n      country:  [\"FR\",\"US\",\"DE\",\"GB\",\"IT\",\"BE\",\"IN\"]\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.News()\r\n  }\r\n\r\n\r\n  async News(){\r\n    const response= await fetch('/news-trend-'+this.state.value);\r\n    const body = await response.json();\r\n    console.log(body)\r\n    this.setState( {reponse:body})\r\n\r\n  }\r\n\r\n  handleChange (event){\r\n    this.setState({value: event.target.value}, ()=>{\r\n    this.News();\r\n    })\r\n\r\n  }\r\n\r\n  handleClick(e){\r\n    if (this.state.display==\"none\"){\r\n      this.setState({display:\"inherit\"});\r\n    }else{\r\n      this.setState({display:\"none\"});\r\n    }\r\n    const elem = e.target.innerHTML\r\n    const id = e.target.id;\r\n    this.wikipedia(elem);\r\n    this.googleSearch(elem);\r\n    this.twitterSearch(elem);\r\n    const element = document.getElementById(id)\r\n    element.className=styles.articleContainerFull\r\n    //  elemtn.classList.remove(\"styles.articleContainerFull\")\r\n  }\r\n\r\n  wikipedia (data){\r\n    wiki({ apiUrl: 'https://fr.wikipedia.org/w/api.php' })\r\n    .find(data)\r\n    .then(page => this.setState({wiki:page.raw.fullurl} ))\r\n  }\r\n\r\n  googleSearch(data){\r\n    const search = 'https://www.google.com/search?q='+data;\r\n    this.setState({googleSearch:search})\r\n  }\r\n\r\n  twitterSearch(data){\r\n    const search = 'https://twitter.com/search?q='+data+'&src=typed_query'\r\n    this.setState({twitterSearch:search})\r\n  }\r\n\r\n  render(props) {\r\n\r\n    return (\r\n      <div className={styles.Container}>\r\n      <div className={styles.selectContainer}>\r\n      <select  className={styles.selector} onChange={this.handleChange.bind(this)} value={this.state.value}>\r\n\r\n      {this.state.country.map((country)=>\r\n       <option className={styles.options} value={country}>{country}</option>\r\n\r\n      )}\r\n</select>\r\n\r\n      </div>\r\n      <div className={styles.dataConatainer}>\r\n      {\r\n        this.state.reponse.map((trend, index) =>\r\n        <div id={index} className={styles.articleContainer}>\r\n\r\n        <ButtonTrend id={index} click={this.handleClick.bind(this)} key={index} title={trend.topic.title.query}/>\r\n\r\n        <Viewer wiki={this.state.wiki}\r\n         googleSearch={this.state.googleSearch}\r\n         twitterSearch={this.state.twitterSearch}\r\n         display={this.state.display}\r\n         source={trend.topic.articles[0].source}\r\n         title={trend.topic.articles[0].title}\r\n         url={trend.topic.articles[0].url}\r\n         />\r\n\r\n        </div>\r\n\r\n      )}\r\n      <div className={styles.outro}></div>\r\n      </div>\r\n\r\n\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Container;\r\n"]},"metadata":{},"sourceType":"module"}