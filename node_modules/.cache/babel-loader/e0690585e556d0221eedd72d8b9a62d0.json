{"ast":null,"code":"import wiki from 'wikijs';\n\nvar wikiped = function wikiped(data) {\n  var wikiSearchReturnValues = [];\n  var fullurl = \"sdfsdf\";\n  var title = \"hqskjdh\";\n  var url = \"https://fr.wikipedia.org/w/api.php\";\n  var params = {\n    action: 'query',\n    list: 'search',\n    srsearch: data,\n    format: 'json'\n  };\n  url = url + '?origin=*';\n  Object.keys(params).forEach(function (key) {\n    url += \"&\" + key + \"=\" + params[key];\n  });\n\n  function getevals(url) {\n    console.log(\"nop)\");\n    return fetch(url).then(function (response) {\n      return response.json();\n    }).then(function (response) {\n      for (var key in response.query.search) {\n        wikiSearchReturnValues.push({\n          queryResultPageFullURL: 'no link',\n          queryResultPageID: response.query.search[key].pageid,\n          queryResultPageTitle: response.query.search[key].title,\n          queryResultPageSnippet: response.query.search[key].snippet\n        });\n      }\n    }).then(function (response) {\n      if (wikiSearchReturnValues[0] != undefined) {\n        var page = wikiSearchReturnValues[0];\n        title = wikiSearchReturnValues[0].queryResultPageTitle;\n        response = wikiSearchReturnValues[0].queryResultPageTitle;\n        return response;\n      } else {\n        console.log(\"nop)\");\n      }\n    });\n  }\n\n  getevals().then(function (response) {\n    return console.log(response);\n  });\n};\n\nexport default wikiped;","map":{"version":3,"sources":["D:/MegaSync/proxy-server/testing/react-express-starter/src/components/Api/wikiped.js"],"names":["wiki","wikiped","data","wikiSearchReturnValues","fullurl","title","url","params","action","list","srsearch","format","Object","keys","forEach","key","getevals","console","log","fetch","then","response","json","query","search","push","queryResultPageFullURL","queryResultPageID","pageid","queryResultPageTitle","queryResultPageSnippet","snippet","undefined","page"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,QAAjB;;AAIC,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,IAAD,EAAQ;AAEtB,MAAMC,sBAAsB,GAAG,EAA/B;AACA,MAAIC,OAAO,GAAG,QAAd;AACA,MAAIC,KAAK,GAAG,SAAZ;AAGE,MAAIC,GAAG,GAAG,oCAAV;AAEA,MAAIC,MAAM,GAAG;AACXC,IAAAA,MAAM,EAAE,OADG;AAEXC,IAAAA,IAAI,EAAE,QAFK;AAGXC,IAAAA,QAAQ,EAAER,IAHC;AAIXS,IAAAA,MAAM,EAAE;AAJG,GAAb;AAOAL,EAAAA,GAAG,GAAGA,GAAG,GAAG,WAAZ;AACAM,EAAAA,MAAM,CAACC,IAAP,CAAYN,MAAZ,EAAoBO,OAApB,CAA4B,UAACC,GAAD,EAAS;AACnCT,IAAAA,GAAG,IAAI,MAAMS,GAAN,GAAY,GAAZ,GAAkBR,MAAM,CAACQ,GAAD,CAA/B;AACD,GAFD;;AAGC,WAASC,QAAT,CAAkBV,GAAlB,EAAsB;AACpBW,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACH,WAAOC,KAAK,CAACb,GAAD,CAAL,CACJc,IADI,CAEH,UAAUC,QAAV,EAAoB;AAClB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,KAJE,EAMJF,IANI,CAOH,UAAUC,QAAV,EAAoB;AAGlB,WAAK,IAAIN,GAAT,IAAgBM,QAAQ,CAACE,KAAT,CAAeC,MAA/B,EAAuC;AACtCrB,QAAAA,sBAAsB,CAACsB,IAAvB,CAA4B;AACzBC,UAAAA,sBAAsB,EAAE,SADC;AAEzBC,UAAAA,iBAAiB,EAAEN,QAAQ,CAACE,KAAT,CAAeC,MAAf,CAAsBT,GAAtB,EAA2Ba,MAFrB;AAGzBC,UAAAA,oBAAoB,EAAER,QAAQ,CAACE,KAAT,CAAeC,MAAf,CAAsBT,GAAtB,EAA2BV,KAHxB;AAIzByB,UAAAA,sBAAsB,EAAET,QAAQ,CAACE,KAAT,CAAeC,MAAf,CAAsBT,GAAtB,EAA2BgB;AAJ1B,SAA5B;AAMA;AAEF,KAnBE,EAuBJX,IAvBI,CAwBH,UAAUC,QAAV,EAAoB;AAEjB,UAAIlB,sBAAsB,CAAC,CAAD,CAAtB,IAA6B6B,SAAjC,EAA2C;AAC1C,YAAIC,IAAI,GAAG9B,sBAAsB,CAAC,CAAD,CAAjC;AACAE,QAAAA,KAAK,GAAGF,sBAAsB,CAAC,CAAD,CAAtB,CAA0B0B,oBAAlC;AACAR,QAAAA,QAAQ,GAAGlB,sBAAsB,CAAC,CAAD,CAAtB,CAA0B0B,oBAArC;AACA,eAAOR,QAAP;AACD,OALA,MAKK;AACJJ,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACD;AACF,KAlCE,CAAP;AAqCC;;AAEEF,EAAAA,QAAQ,GAAGI,IAAX,CAAgB,UAAAC,QAAQ;AAAA,WAAGJ,OAAO,CAACC,GAAR,CAAYG,QAAZ,CAAH;AAAA,GAAxB;AAEJ,CA/DH;;AAkED,eAAepB,OAAf","sourcesContent":["import wiki from 'wikijs'\r\n\r\n\r\n\r\n const wikiped = (data)=>{\r\n\r\n   const wikiSearchReturnValues = []\r\n   let fullurl = \"sdfsdf\";\r\n   let title = \"hqskjdh\";\r\n\r\n\r\n     var url = \"https://fr.wikipedia.org/w/api.php\";\r\n\r\n     var params = {\r\n       action: 'query',\r\n       list: 'search',\r\n       srsearch: data,\r\n       format: 'json'\r\n     };\r\n\r\n     url = url + '?origin=*';\r\n     Object.keys(params).forEach((key) => {\r\n       url += \"&\" + key + \"=\" + params[key];\r\n     });\r\n      function getevals(url){\r\n        console.log(\"nop)\")\r\n     return fetch(url)\r\n       .then(\r\n         function (response) {\r\n           return response.json();\r\n         }\r\n       )\r\n       .then(\r\n         function (response) {\r\n\r\n\r\n           for (var key in response.query.search) {\r\n            wikiSearchReturnValues.push({\r\n               queryResultPageFullURL: 'no link',\r\n               queryResultPageID: response.query.search[key].pageid,\r\n               queryResultPageTitle: response.query.search[key].title,\r\n               queryResultPageSnippet: response.query.search[key].snippet\r\n             });\r\n           }\r\n\r\n         }\r\n\r\n       )\r\n\r\n       .then(\r\n         function (response) {\r\n\r\n            if (wikiSearchReturnValues[0] != undefined){\r\n             let page = wikiSearchReturnValues[0];\r\n             title = wikiSearchReturnValues[0].queryResultPageTitle;\r\n             response = wikiSearchReturnValues[0].queryResultPageTitle;\r\n             return response\r\n           }else {\r\n             console.log(\"nop)\")\r\n           }\r\n         }\r\n       )\r\n\r\n     }\r\n\r\n        getevals().then(response =>console.log(response))\r\n\r\n   }\r\n\r\n\r\nexport default wikiped\r\n"]},"metadata":{},"sourceType":"module"}