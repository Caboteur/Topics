{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar translateToken = require('./token');\n\nvar axios_https_proxy_fix_1 = require(\"axios-https-proxy-fix\");\n\nvar util_1 = require(\"./util\");\n\nvar language_1 = require(\"./language\");\n\nfunction handletranslate(data, extra) {\n  var e;\n\n  if (extra.from) {\n    if (!language_1.isSupport(extra.from)) {\n      e = new Error();\n      e.language = extra.from;\n    }\n  }\n\n  if (!language_1.isSupport(extra.to)) {\n    e = new Error();\n    e.language = extra.to;\n  }\n\n  if (e) {\n    e.code = 400;\n    e.message = 'The language \\'' + e.language + '\\' is not supported';\n    return new Promise(function (_, reject) {\n      reject(e);\n    });\n  }\n\n  return translateToken.get(data.join(''), {\n    tld: extra.tld || 'com',\n    proxy: extra.proxy || false\n  }).then(function (res) {\n    var query = {\n      anno: 3,\n      client: \"webapp\",\n      format: extra.format,\n      v: 1.0,\n      key: null,\n      logld: \"vTE_20190506_00\",\n      sl: extra.from || 'auto',\n      tl: extra.to || 'zh-CN',\n      hl: 'zh-CN',\n      sp: \"nmt\",\n      tc: 2,\n      sr: 1,\n      tk: res.value,\n      mode: 1\n    };\n\n    var options = __assign({\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/x-www-form-urlencoded\",\n        \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.142 Safari/537.36\",\n        \"Accept\": \"application/json, text/plain, */*\",\n        'X-Requested-With': 'XMLHttpRequest'\n      },\n      data: util_1.arrayStringify(data),\n      url: '/translate_a/t',\n      baseURL: \"https://translate.googleapis.com\",\n      params: query,\n      proxy: extra.proxy || false\n    }, extra.config);\n\n    var browersUrl = 'https://cors-anywhere.herokuapp.com/';\n\n    if (extra.browersUrl) {\n      browersUrl = extra.browersUrl;\n    }\n\n    if (extra.browers) {\n      options.baseURL = browersUrl + options.baseURL;\n    }\n\n    return axios_https_proxy_fix_1.default(options);\n  });\n}\n\nexports.default = handletranslate;","map":{"version":3,"sources":["D:/MegaSync/proxy-server/testing/react-express-starter/node_modules/google-translate-open-api/dist/translate.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","defineProperty","exports","value","translateToken","require","axios_https_proxy_fix_1","util_1","language_1","handletranslate","data","extra","e","from","isSupport","Error","language","to","code","message","Promise","_","reject","get","join","tld","proxy","then","res","query","anno","client","format","v","key","logld","sl","tl","hl","sp","tc","sr","tk","mode","options","method","headers","arrayStringify","url","baseURL","params","config","browersUrl","browers","default"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar translateToken = require('./token');\nvar axios_https_proxy_fix_1 = require(\"axios-https-proxy-fix\");\nvar util_1 = require(\"./util\");\nvar language_1 = require(\"./language\");\nfunction handletranslate(data, extra) {\n    var e;\n    if (extra.from) {\n        if (!language_1.isSupport(extra.from)) {\n            e = new Error();\n            e.language = extra.from;\n        }\n    }\n    if (!language_1.isSupport(extra.to)) {\n        e = new Error();\n        e.language = extra.to;\n    }\n    if (e) {\n        e.code = 400;\n        e.message = 'The language \\'' + e.language + '\\' is not supported';\n        return new Promise(function (_, reject) {\n            reject(e);\n        });\n    }\n    return translateToken\n        .get(data.join(''), {\n        tld: extra.tld || 'com',\n        proxy: extra.proxy || false,\n    })\n        .then(function (res) {\n        var query = {\n            anno: 3,\n            client: \"webapp\",\n            format: extra.format,\n            v: 1.0,\n            key: null,\n            logld: \"vTE_20190506_00\",\n            sl: extra.from || 'auto',\n            tl: extra.to || 'zh-CN',\n            hl: 'zh-CN',\n            sp: \"nmt\",\n            tc: 2,\n            sr: 1,\n            tk: res.value,\n            mode: 1\n        };\n        var options = __assign({ method: \"POST\", headers: {\n                \"content-type\": \"application/x-www-form-urlencoded\",\n                \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.142 Safari/537.36\",\n                \"Accept\": \"application/json, text/plain, */*\",\n                'X-Requested-With': 'XMLHttpRequest'\n            }, data: util_1.arrayStringify(data), url: '/translate_a/t', baseURL: \"https://translate.googleapis.com\", params: query, proxy: extra.proxy || false }, (extra.config));\n        var browersUrl = 'https://cors-anywhere.herokuapp.com/';\n        if (extra.browersUrl) {\n            browersUrl = extra.browersUrl;\n        }\n        if (extra.browers) {\n            options.baseURL = browersUrl + options.baseURL;\n        }\n        return axios_https_proxy_fix_1.default(options);\n    });\n}\nexports.default = handletranslate;\n"]},"metadata":{},"sourceType":"script"}