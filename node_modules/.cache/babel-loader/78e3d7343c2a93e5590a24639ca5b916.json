{"ast":null,"code":"/**\n * Last update: 2016/06/26\n * https://translate.google.com/translate/releases/twsfe_w_20160620_RC00/r/js/desktop_module_main.js\n *\n * Everything between 'BEGIN' and 'END' was copied from the url above.\n */\nvar got = require('got');\n\nvar Configstore = require('configstore');\n/* eslint-disable */\n// BEGIN\n\n\nfunction sM(a) {\n  var b;\n  if (null !== yr) b = yr;else {\n    b = wr(String.fromCharCode(84));\n    var c = wr(String.fromCharCode(75));\n    b = [b(), b()];\n    b[1] = c();\n    b = (yr = window[b.join(c())] || \"\") || \"\";\n  }\n  var d = wr(String.fromCharCode(116)),\n      c = wr(String.fromCharCode(107)),\n      d = [d(), d()];\n  d[1] = c();\n  c = \"&\" + d.join(\"\") + \"=\";\n  d = b.split(\".\");\n  b = Number(d[0]) || 0;\n\n  for (var e = [], f = 0, g = 0; g < a.length; g++) {\n    var l = a.charCodeAt(g);\n    128 > l ? e[f++] = l : (2048 > l ? e[f++] = l >> 6 | 192 : (55296 == (l & 64512) && g + 1 < a.length && 56320 == (a.charCodeAt(g + 1) & 64512) ? (l = 65536 + ((l & 1023) << 10) + (a.charCodeAt(++g) & 1023), e[f++] = l >> 18 | 240, e[f++] = l >> 12 & 63 | 128) : e[f++] = l >> 12 | 224, e[f++] = l >> 6 & 63 | 128), e[f++] = l & 63 | 128);\n  }\n\n  a = b;\n\n  for (f = 0; f < e.length; f++) {\n    a += e[f], a = xr(a, \"+-a^+6\");\n  }\n\n  a = xr(a, \"+-3^+b+-f\");\n  a ^= Number(d[1]) || 0;\n  0 > a && (a = (a & 2147483647) + 2147483648);\n  a %= 1E6;\n  return c + (a.toString() + \".\" + (a ^ b));\n}\n\nvar yr = null;\n\nvar wr = function wr(a) {\n  return function () {\n    return a;\n  };\n},\n    xr = function xr(a, b) {\n  for (var c = 0; c < b.length - 2; c += 3) {\n    var d = b.charAt(c + 2),\n        d = \"a\" <= d ? d.charCodeAt(0) - 87 : Number(d),\n        d = \"+\" == b.charAt(c + 1) ? a >>> d : a << d;\n    a = \"+\" == b.charAt(c) ? a + d & 4294967295 : a ^ d;\n  }\n\n  return a;\n}; // END\n\n/* eslint-enable */\n\n\nvar config = new Configstore('google-translate-api');\nvar window = {\n  TKK: config.get('TKK') || '0'\n};\n\nfunction updateTKK(opts) {\n  opts = opts || {\n    tld: 'com'\n  };\n  return new Promise(function (resolve, reject) {\n    var now = Math.floor(Date.now() / 3600000);\n\n    if (Number(window.TKK.split('.')[0]) === now) {\n      resolve();\n    } else {\n      got('https://translate.google.' + opts.tld).then(function (res) {\n        var matches = res.body.match(/tkk:\\s?'(.+?)'/i);\n\n        if (matches) {\n          window.TKK = matches[1];\n          config.set('TKK', window.TKK);\n        }\n        /**\n         * Note: If the regex or the eval fail, there is no need to worry. The server will accept\n         * relatively old seeds.\n         */\n\n\n        resolve();\n      }).catch(function (err) {\n        var e = new Error();\n        e.code = 'BAD_NETWORK';\n        e.message = err.message;\n        reject(e);\n      });\n    }\n  });\n}\n\nfunction get(text, opts) {\n  return updateTKK(opts).then(function () {\n    var tk = sM(text);\n    tk = tk.replace('&tk=', '');\n    return {\n      name: 'tk',\n      value: tk\n    };\n  }).catch(function (err) {\n    throw err;\n  });\n}\n\nmodule.exports.get = get;","map":{"version":3,"sources":["D:/MegaSync/proxy-server/testing/react-express-starter/node_modules/@vitalets/google-translate-token/index.js"],"names":["got","require","Configstore","sM","a","b","yr","wr","String","fromCharCode","c","window","join","d","split","Number","e","f","g","length","l","charCodeAt","xr","toString","charAt","config","TKK","get","updateTKK","opts","tld","Promise","resolve","reject","now","Math","floor","Date","then","res","matches","body","match","set","catch","err","Error","code","message","text","tk","replace","name","value","module","exports"],"mappings":"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","sourcesContent":["/**\n * Last update: 2016/06/26\n * https://translate.google.com/translate/releases/twsfe_w_20160620_RC00/r/js/desktop_module_main.js\n *\n * Everything between 'BEGIN' and 'END' was copied from the url above.\n */\n\nvar got = require('got');\nvar Configstore = require('configstore');\n\n/* eslint-disable */\n// BEGIN\n\nfunction sM(a) {\n    var b;\n    if (null !== yr)\n        b = yr;\n    else {\n        b = wr(String.fromCharCode(84));\n        var c = wr(String.fromCharCode(75));\n        b = [b(), b()];\n        b[1] = c();\n        b = (yr = window[b.join(c())] || \"\") || \"\"\n    }\n    var d = wr(String.fromCharCode(116))\n        , c = wr(String.fromCharCode(107))\n        , d = [d(), d()];\n    d[1] = c();\n    c = \"&\" + d.join(\"\") + \"=\";\n    d = b.split(\".\");\n    b = Number(d[0]) || 0;\n    for (var e = [], f = 0, g = 0; g < a.length; g++) {\n        var l = a.charCodeAt(g);\n        128 > l ? e[f++] = l : (2048 > l ? e[f++] = l >> 6 | 192 : (55296 == (l & 64512) && g + 1 < a.length && 56320 == (a.charCodeAt(g + 1) & 64512) ? (l = 65536 + ((l & 1023) << 10) + (a.charCodeAt(++g) & 1023),\n            e[f++] = l >> 18 | 240,\n            e[f++] = l >> 12 & 63 | 128) : e[f++] = l >> 12 | 224,\n            e[f++] = l >> 6 & 63 | 128),\n            e[f++] = l & 63 | 128)\n    }\n    a = b;\n    for (f = 0; f < e.length; f++)\n        a += e[f],\n            a = xr(a, \"+-a^+6\");\n    a = xr(a, \"+-3^+b+-f\");\n    a ^= Number(d[1]) || 0;\n    0 > a && (a = (a & 2147483647) + 2147483648);\n    a %= 1E6;\n    return c + (a.toString() + \".\" + (a ^ b))\n}\n\nvar yr = null;\nvar wr = function(a) {\n    return function() {\n        return a\n    }\n}\n    , xr = function(a, b) {\n    for (var c = 0; c < b.length - 2; c += 3) {\n        var d = b.charAt(c + 2)\n            , d = \"a\" <= d ? d.charCodeAt(0) - 87 : Number(d)\n            , d = \"+\" == b.charAt(c + 1) ? a >>> d : a << d;\n        a = \"+\" == b.charAt(c) ? a + d & 4294967295 : a ^ d\n    }\n    return a\n};\n\n// END\n/* eslint-enable */\n\nvar config = new Configstore('google-translate-api');\n\nvar window = {\n    TKK: config.get('TKK') || '0'\n};\n\nfunction updateTKK(opts) {\n    opts = opts || {tld: 'com'};\n    return new Promise(function (resolve, reject) {\n        var now = Math.floor(Date.now() / 3600000);\n\n        if (Number(window.TKK.split('.')[0]) === now) {\n            resolve();\n        } else {\n            got('https://translate.google.' + opts.tld).then(function (res) {\n                var matches = res.body.match(/tkk:\\s?'(.+?)'/i);\n\n                if (matches) {\n                    window.TKK = matches[1];\n                    config.set('TKK', window.TKK);\n                }\n\n                /**\n                 * Note: If the regex or the eval fail, there is no need to worry. The server will accept\n                 * relatively old seeds.\n                 */\n\n                resolve();\n            }).catch(function (err) {\n                var e = new Error();\n                e.code = 'BAD_NETWORK';\n                e.message = err.message;\n                reject(e);\n            });\n        }\n    });\n}\n\nfunction get(text, opts) {\n    return updateTKK(opts).then(function () {\n        var tk = sM(text);\n        tk = tk.replace('&tk=', '');\n        return {name: 'tk', value: tk};\n    }).catch(function (err) {\n        throw err;\n    });\n}\n\nmodule.exports.get = get;\n"]},"metadata":{},"sourceType":"script"}